<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthLord - Introduction</title>
    <link rel="stylesheet" href="home.css">
    
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
            from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, setDoc } 
            from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDZunpvvg849oe1iM5Otbp4DlBdHMO9nbg",
            authDomain: "fitnessapp-9e628.firebaseapp.com",
            projectId: "fitnessapp-9e628",
            storageBucket: "fitnessapp-9e628.firebasestorage.app",
            messagingSenderId: "1003393693095",
            appId: "1:1003393693095:web:59ba4600e685e77b9e7282",
            measurementId: "G-GFW49JWKDG"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Make auth and db available globally
        window.firebaseAuth = auth;
        window.firebaseDB = db;
        window.firebaseInitialized = true;
        
        // Import functions to window for global access
        window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
        window.signInWithEmailAndPassword = signInWithEmailAndPassword;
        window.setDoc = setDoc;
        window.doc = doc;
    </script>
</head>
<body>
    <div class="slider-container">
        <!-- Slide 1: Welcome -->
        <div class="slide active" data-slide="1">
            <div class="slide-header">
                <div class="slide-number">SLIDE 1 OF 5</div>
                <h1 class="slide-title">Welcome to HealthLord</h1>
                <p class="slide-subtitle">Your AI-Powered Fitness Companion</p>
            </div>

            <div class="slide-content">
                <div class="big-icon">üí™</div>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <div class="feature-title">Smart Goals</div>
                        <div class="feature-desc">Set personalized fitness goals tailored to your lifestyle</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <div class="feature-title">Track Progress</div>
                        <div class="feature-desc">Monitor your journey with detailed analytics</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <div class="feature-title">AI Workouts</div>
                        <div class="feature-desc">Get AI-generated routines based on your data</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üèÜ</div>
                        <div class="feature-title">Earn Rewards</div>
                        <div class="feature-desc">Stay motivated with achievements and milestones</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 2: Setup & Login -->
        <div class="slide" data-slide="2">
            <div class="slide-header">
                <div class="slide-number">SLIDE 2 OF 5</div>
                <h1 class="slide-title">Easy Setup & Login</h1>
                <p class="slide-subtitle">Start your journey in seconds</p>
            </div>
            <div class="slide-content">
                <div class="list-item">
                    <strong>üîê Quick Authentication</strong>
                    <p>Sign in with email/password or use Google Authentication for instant access</p>
                </div>
                <div class="list-item">
                    <strong>üë§ User Profile</strong>
                    <p>Enter your name, fitness goals, and available workout time to personalize your experience</p>
                </div>
                <div class="list-item">
                    <strong>‚ö° Energy Level Selection</strong>
                    <p>Tell us how energetic you feel, and we'll adapt workout intensity accordingly</p>
                </div>
                <div class="list-item">
                    <strong>üéØ Fixed Workout Plans</strong>
                    <p>Choose from predefined routines based on your selected goals</p>
                </div>
            </div>
        </div>

        <!-- Slide 3: Daily Workouts & Navigation -->
        <div class="slide" data-slide="3">
            <div class="slide-header">
                <div class="slide-number">SLIDE 3 OF 5</div>
                <h1 class="slide-title">Your Daily Workout</h1>
                <p class="slide-subtitle">Simple, effective, and motivating</p>
            </div>
            <div class="slide-content">
                <div class="big-icon">üì±</div>
                <div class="list-item">
                    <strong>üìÖ Today's Workout Screen</strong>
                    <p>View your daily plan with a button to mark completion and track your series</p>
                </div>
                <div class="list-item">
                    <strong>üß≠ Simple Navigation</strong>
                    <p>Clear flow from login to workout ensures ease of use and quick access</p>
                </div>
                <div class="list-item">
                    <strong>üìà Progress Tracking</strong>
                    <p>Track workout streaks and total sessions to stay consistent</p>
                </div>
            </div>
        </div>

        <!-- Slide 4: Advanced Features -->
        <div class="slide" data-slide="4">
            <div class="slide-header">
                <div class="slide-number">SLIDE 4 OF 5</div>
                <h1 class="slide-title">Advanced Features</h1>
                <p class="slide-subtitle">Powered by AI & Machine Learning</p>
            </div>
            <div class="slide-content">
                <div class="advanced-grid">
                    <div class="advanced-card">
                        <div class="icon">ü§ñ</div>
                        <div class="title">GenAI Workouts</div>
                        <div class="desc">AI generates routines based on goals and location</div>
                    </div>
                    <div class="advanced-card">
                        <div class="icon">üß†</div>
                        <div class="title">Adaptive Training</div>
                        <div class="desc">Adjusts difficulty based on performance history</div>
                    </div>
                    <div class="advanced-card">
                        <div class="icon">üîî</div>
                        <div class="title">Smart Alerts</div>
                        <div class="desc">Reminders when workouts are missed</div>
                    </div>
                    <div class="advanced-card">
                        <div class="icon">üìö</div>
                        <div class="title">ML Learning</div>
                        <div class="desc">Learns patterns from skipped workouts</div>
                    </div>
                    <div class="advanced-card">
                        <div class="icon">üé§</div>
                        <div class="title">AI Coach</div>
                        <div class="desc">Voice-based explanations & motivation</div>
                    </div>
                    <div class="advanced-card">
                        <div class="icon">üìä</div>
                        <div class="title">Fitness Report</div>
                        <div class="desc">Weekly activity & calorie summaries</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Get Started -->
        <div class="slide" data-slide="5">
            <div class="slide-header">
                <div class="slide-number">SLIDE 5 OF 5</div>
                <h1 class="slide-title">Ready to Transform?</h1>
                <p class="slide-subtitle">Join thousands achieving their fitness goals</p>
            </div>
            <div class="slide-content">
                <div class="big-icon">üöÄ</div>
                <div class="final-cta">
                    <h3>Your Fitness Journey Starts Now</h3>
                    <p>With HealthLord's AI-powered features and personalized plans, reaching your goals has never been easier</p>
                </div>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">‚úÖ</div>
                        <div class="feature-title">Easy to Use</div>
                        <div class="feature-desc">Intuitive interface designed for everyone</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîí</div>
                        <div class="feature-title">Secure & Private</div>
                        <div class="feature-desc">Your data is protected with token authentication</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üåü</div>
                        <div class="feature-title">Proven Results</div>
                        <div class="feature-desc">Join users who've achieved their goals</div>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üíØ</div>
                        <div class="feature-title">100% Free</div>
                        <div class="feature-desc">All features available at no cost</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Login Page with Firebase -->
        <div class="slide" data-slide="6">
            <div class="login-container">
                <div class="welcome-text">
                    <h2>Welcome Back!</h2>
                    <p>Continue your journey to a healthier you</p>
                </div>
                
                <!-- Login Form -->
                <div id="loginFormSlide">
                    <div class="login-inputs">
                        <input type="email" class="app-input" id="loginEmail" placeholder="Email Address" autocomplete="email">
                        <input type="password" class="app-input" id="loginPassword" placeholder="Password" autocomplete="current-password">
                    </div>

                    <button class="btn btn-primary sound-btn-login" id="loginBtn">
                        <span>Log In</span>
                    </button>

                    <div class="divider">
                        <span><b>OR CONTINUE WITH</b></span>
                    </div>

                    <div class="social-login">
                        <button class="social-btn sound-btn-login" title="Google Sign In">
                            <svg viewBox="0 0 24 24">
                                <path d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"/>
                            </svg>
                        </button>
                        <button class="social-btn sound-btn-login" title="Facebook Sign In">
                            <svg viewBox="0 0 24 24">
                                <path d="M17.525,9H14V7c0-1.032,0.084-1.682,1.563-1.682h1.868v-3.18C16.522,2.044,15.608,1.998,14.693,2C11.98,2,10,3.657,10,6.699V9H7v4l3-0.001V22h4v-9.003l3.066-0.001L17.525,9z"/>
                            </svg>
                        </button>
                        <button class="social-btn sound-btn-login" title="Apple Sign In">
                            <svg viewBox="0 0 24 24">
                                <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                            </svg>
                        </button>
                    </div>

                    <div class="footer-text">
                        Don't have an account? <a href="#" class="sound-btn-login" id="showSignupForm">Sign up now</a>
                    </div>
                </div>

                <!-- Signup Form (Hidden by default) -->
                <div id="signupFormSlide" style="display: none;">
                    <div class="signup-inputs">
                        <input type="text" class="app-input" id="signupName" placeholder="Full Name" autocomplete="name">
                        <input type="email" class="app-input" id="signupEmail" placeholder="Email Address" autocomplete="email">
                        <input type="password" class="app-input" id="signupPassword" placeholder="Password (min 6 characters)" autocomplete="new-password">
                        <input type="number" class="app-input" id="signupAge" placeholder="Age" min="1" max="120">
                        
                        <select class="app-input" id="signupGender">
                            <option value="">Select Gender</option>
                            <option>Male</option>
                            <option>Female</option>
                            <option>Other</option>
                        </select>
                        
                        <input type="number" class="app-input" id="signupHeight" placeholder="Height (cm)" min="1">
                        <input type="number" class="app-input" id="signupWeight" placeholder="Weight (kg)" min="1">
                        
                        <select class="app-input" id="signupGoal">
                            <option value="">Fitness Goal</option>
                            <option>Lose Weight</option>
                            <option>Gain Muscle</option>
                            <option>Stay Fit</option>
                        </select>
                    </div>

                    <button class="btn btn-secondary sound-btn-login" id="signupBtn">
                        <span>Create Account</span>
                    </button>

                    <div class="footer-text">
                        Already have an account? <a href="#" class="sound-btn-login" id="showLoginForm">Log in</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" disabled>‚Üê Previous</button>
            <div class="pagination">
                <span class="dot active" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
                <span class="dot" data-slide="3"></span>
                <span class="dot" data-slide="4"></span>
                <span class="dot" data-slide="5"></span>
                <span class="dot" data-slide="6"></span>
            </div>
            <button class="nav-btn" id="nextBtn">Next ‚Üí</button>
            <button class="nav-btn get-started" id="getStartedBtn" style="display: none;">Get Started üöÄ</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 6;
        
        // Audio Context for sound effects
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // Sound effect functions
        function playNavigateSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(900, audioContext.currentTime + 0.1);
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.2);
        }
        
        function playHoverSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 1000;
            oscillator.type = 'square';
            
            gainNode.gain.setValueAtTime(0.05, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.05);
        }
        
        function playClickSound() {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.setValueAtTime(1500, audioContext.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 0.1);
            oscillator.type = 'sawtooth';
            
            gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.15);
        }
        
        function playSuccessSound() {
            // Three ascending notes
            [800, 1000, 1200].forEach((freq, i) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = freq;
                oscillator.type = 'sine';
                
                const startTime = audioContext.currentTime + (i * 0.1);
                gainNode.gain.setValueAtTime(0.15, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.2);
                
                oscillator.start(startTime);
                oscillator.stop(startTime + 0.2);
            });
        }
        
        // Update slide display
        function updateSlide() {
            document.querySelectorAll('.slide').forEach(slide => {
                slide.classList.remove('active');
            });
            document.querySelector(`[data-slide="${currentSlide}"]`).classList.add('active');
            
            // Update dots
            document.querySelectorAll('.dot').forEach(dot => {
                dot.classList.remove('active');
            });
            document.querySelector(`.dot[data-slide="${currentSlide}"]`).classList.add('active');
            
            // Update buttons
            document.getElementById('prevBtn').disabled = currentSlide === 1;
            
            if (currentSlide === 5) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('getStartedBtn').style.display = 'block';
            } else if (currentSlide === 6) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('getStartedBtn').style.display = 'none';
            } else {
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('getStartedBtn').style.display = 'none';
            }
        }
        
        // Navigation buttons
        document.getElementById('prevBtn').addEventListener('click', () => {
            if (currentSlide > 1) {
                currentSlide--;
                updateSlide();
                playNavigateSound();
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', () => {
            if (currentSlide < totalSlides) {
                currentSlide++;
                updateSlide();
                playNavigateSound();
            }
        });
        
        document.getElementById('getStartedBtn').addEventListener('click', () => {
            playSuccessSound();
            currentSlide = 6;
            updateSlide();
        });
        
        // Dot navigation
        document.querySelectorAll('.dot').forEach(dot => {
            dot.addEventListener('click', () => {
                currentSlide = parseInt(dot.dataset.slide);
                updateSlide();
                playNavigateSound();
            });
        });
        
        // Add hover sounds to all interactive elements
        document.querySelectorAll('.feature-card, .list-item, .advanced-card, .dot, .nav-btn, .sound-btn-login').forEach(element => {
            element.addEventListener('mouseenter', () => {
                playHoverSound();
            });
            
            element.addEventListener('click', () => {
                playClickSound();
            });
        });
        
        // Initialize audio context on first interaction
        document.addEventListener('click', () => {
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }, { once: true });

        // Firebase Authentication Logic
        document.addEventListener('DOMContentLoaded', function() {
            const showSignupBtn = document.getElementById('showSignupForm');
            const showLoginBtn = document.getElementById('showLoginForm');
            const loginForm = document.getElementById('loginFormSlide');
            const signupForm = document.getElementById('signupFormSlide');

            // Toggle between Login and Signup forms
            if (showSignupBtn) {
                showSignupBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    loginForm.style.display = 'none';
                    signupForm.style.display = 'block';
                    playClickSound();
                });
            }

            if (showLoginBtn) {
                showLoginBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    signupForm.style.display = 'none';
                    loginForm.style.display = 'block';
                    playClickSound();
                });
            }

            // Login Button Handler
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.addEventListener('click', async () => {
                    const email = document.getElementById('loginEmail').value.trim();
                    const password = document.getElementById('loginPassword').value;

                    if (!email || !password) {
                        alert('Please enter email and password');
                        return;
                    }

                    // Wait for Firebase to initialize
                    if (!window.firebaseInitialized) {
                        alert('Firebase is still loading. Please wait a moment.');
                        return;
                    }

                    try {
                        playSuccessSound();
                        loginBtn.innerHTML = '<span>Logging in...</span>';
                        loginBtn.disabled = true;

                        await window.signInWithEmailAndPassword(window.firebaseAuth, email, password);
                        
                        // Success! Redirect to dashboard
                        setTimeout(() => {
                            window.location.href = 'DASH.html';
                        }, 500);

                    } catch (error) {
                        loginBtn.innerHTML = '<span>Log In</span>';
                        loginBtn.disabled = false;
                        
                        let errorMsg = 'Login failed. ';
                        if (error.code === 'auth/invalid-email') {
                            errorMsg += 'Invalid email address.';
                        } else if (error.code === 'auth/user-not-found') {
                            errorMsg += 'No account found with this email.';
                        } else if (error.code === 'auth/wrong-password') {
                            errorMsg += 'Incorrect password.';
                        } else if (error.code === 'auth/invalid-credential') {
                            errorMsg += 'Invalid email or password.';
                        } else {
                            errorMsg += error.message;
                        }
                        alert(errorMsg);
                    }
                });
            }

            // Signup Button Handler
            const signupBtn = document.getElementById('signupBtn');
            if (signupBtn) {
                signupBtn.addEventListener('click', async () => {
                    const name = document.getElementById('signupName').value.trim();
                    const email = document.getElementById('signupEmail').value.trim();
                    const password = document.getElementById('signupPassword').value;
                    const age = document.getElementById('signupAge').value;
                    const gender = document.getElementById('signupGender').value;
                    const height = document.getElementById('signupHeight').value;
                    const weight = document.getElementById('signupWeight').value;
                    const goal = document.getElementById('signupGoal').value;

                    if (!name || !email || !password || !age || !gender || !height || !weight || !goal) {
                        alert('Please fill all fields');
                        return;
                    }

                    if (password.length < 6) {
                        alert('Password must be at least 6 characters');
                        return;
                    }

                    if (!window.firebaseInitialized) {
                        alert('Firebase is still loading. Please wait a moment.');
                        return;
                    }

                    try {
                        playSuccessSound();
                        signupBtn.innerHTML = '<span>Creating Account...</span>';
                        signupBtn.disabled = true;

                        const userCredential = await window.createUserWithEmailAndPassword(
                            window.firebaseAuth, email, password
                        );
                        const user = userCredential.user;

                        // Save user data to Firestore
                        await window.setDoc(window.doc(window.firebaseDB, "users", user.uid), {
                            name,
                            email,
                            age: parseInt(age),
                            gender,
                            height: parseInt(height),
                            weight: parseInt(weight),
                            goal,
                            createdAt: new Date()
                        });

                        // Success! Redirect to dashboard
                        setTimeout(() => {
                            window.location.href = 'DASH.html';
                        }, 500);

                    } catch (error) {
                        signupBtn.innerHTML = '<span>Create Account</span>';
                        signupBtn.disabled = false;
                        
                        let errorMsg = 'Signup failed. ';
                        if (error.code === 'auth/email-already-in-use') {
                            errorMsg += 'This email is already registered.';
                        } else if (error.code === 'auth/weak-password') {
                            errorMsg += 'Password should be at least 6 characters.';
                        } else if (error.code === 'auth/invalid-email') {
                            errorMsg += 'Invalid email address.';
                        } else {
                            errorMsg += error.message;
                        }
                        alert(errorMsg);
                    }
                });
            }

            // Enter key navigation for Login form
            const loginEmail = document.getElementById('loginEmail');
            const loginPassword = document.getElementById('loginPassword');

            if (loginEmail) {
                loginEmail.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        loginPassword.focus();
                        playClickSound();
                    }
                });
            }

            if (loginPassword) {
                loginPassword.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        document.getElementById('loginBtn').click();
                    }
                });
            }

            // Enter key navigation for Signup form
            const signupInputs = [
                document.getElementById('signupName'),
                document.getElementById('signupEmail'),
                document.getElementById('signupPassword'),
                document.getElementById('signupAge'),
                document.getElementById('signupGender'),
                document.getElementById('signupHeight'),
                document.getElementById('signupWeight'),
                document.getElementById('signupGoal')
            ];

            signupInputs.forEach((input, index) => {
                if (input) {
                    input.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            if (index < signupInputs.length - 1) {
                                signupInputs[index + 1].focus();
                            } else {
                                document.getElementById('signupBtn').click();
                            }
                            playClickSound();
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
